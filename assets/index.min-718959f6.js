import{g as Ci,c as Ri}from"./commonjsHelpers-725317a4.js";function Li(rt,Wt){for(var ot=0;ot<Wt.length;ot++){const W=Wt[ot];if(typeof W!="string"&&!Array.isArray(W)){for(const S in W)if(S!=="default"&&!(S in rt)){const it=Object.getOwnPropertyDescriptor(W,S);it&&Object.defineProperty(rt,S,it.get?it:{enumerable:!0,get:()=>W[S]})}}}return Object.freeze(Object.defineProperty(rt,Symbol.toStringTag,{value:"Module"}))}var Yt={},Ai={get exports(){return Yt},set exports(rt){Yt=rt}};(function(rt,Wt){(function(ot,W){rt.exports=W()})(Ri,function(){return function(){var ot={14:function(v,d,m){m.r(d);var E=m(81),w=m.n(E),j=m(645),p=m.n(j),G=m(667),q=m.n(G),at=new URL(m(831),m.b),ut=p()(w()),ct=q()(at);ut.push([v.id,'.nplayer{--theme-color:#007aff;--poster-bg-color:transparent;--progress-bg:#007aff;--volume-progress-bg:#007aff;--safe-area-inset-bottom:$control_bottom;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;align-items:center;background:#000;color:#fff;display:flex;font-family:-apple-system,BlinkMacSystemFont,Microsoft YaHei;height:100%;justify-content:center;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%;z-index:auto}@supports(padding-bottom:constant(safe-area-inset-bottom)){.nplayer{--safe-area-inset-bottom:max(8px,constant(safe-area-inset-bottom))}}@supports(padding-bottom:env(safe-area-inset-bottom)){.nplayer{--safe-area-inset-bottom:max(8px,env(safe-area-inset-bottom))}}.nplayer *{box-sizing:content-box}.nplayer_control{z-index:10}.nplayer_control_bg{z-index:9}.nplayer_poster{z-index:20}.nplayer_loading{z-index:30}.nplayer_contextmenu{z-index:40}.nplayer_toast{z-index:50}.nplayer:focus{outline:none}.nplayer_flex{display:flex}.nplayer_align-center{align-items:center}.nplayer-web-full{bottom:0;left:0;position:fixed;right:0;top:0;z-index:99999}.nplayer-web-full .nplayer_control{padding-bottom:var(--safe-area-inset-bottom)}.nplayer-loading .nplayer_loading{display:block}.nplayer_icon{fill:#fff;height:28px;width:28px}.nplayer_video{max-height:100%;outline:none;touch-action:none;width:100%}.nplayer_spacer{flex:1}.nplayer_tooltip{cursor:pointer;padding:3px;position:relative;transition:background .2s ease}@media not all and (hover:none){.nplayer_tooltip:hover{background:var(--theme-color)}.nplayer_tooltip:hover .nplayer_tooltip_content{opacity:1;transform:translate(-50%)}.nplayer_tooltip:hover .nplayer_tooltip-left,.nplayer_tooltip:hover .nplayer_tooltip-right{transform:translate(0)}}.nplayer_tooltip_content{background:rgba(0,0,0,.7);bottom:100%;font-size:12px;left:50%;margin-bottom:10px;opacity:0;padding:5px 10px;pointer-events:none;position:absolute;transform:translate(-50%,10px) scale(.8);transform-origin:50% 100%;transition:transform .2s ease .1s,opacity .2s ease .1s;white-space:nowrap}.nplayer_tooltip-left{left:0;transform:translateY(10px) scale(.8);transform-origin:0 100%}.nplayer_tooltip-right{left:auto;right:0;transform:translateY(10px) scale(.8);transform-origin:100% 100%}.nplayer_tooltip-bottom{bottom:auto;margin-bottom:0;margin-top:10px;top:100%;transform:translate(-50%,-10px) scale(.8)}.nplayer_tooltip-bottom.nplayer_tooltip-left,.nplayer_tooltip-bottom.nplayer_tooltip-right{transform:translateY(-10px) scale(.8)}.nplayer_popover{pointer-events:none}.nplayer_popover-active{pointer-events:auto}.nplayer_popover-active .nplayer_popover_panel{opacity:1;transform:translateY(0)}.nplayer_popover_panel{background:rgba(0,0,0,.7);bottom:100%;box-shadow:0 1px 20px 1px rgba(0,0,0,.2);font-size:14px;margin-bottom:5px;opacity:0;overflow:hidden;padding:3px 0;position:absolute;right:0;transform:translateY(10px);transition:opacity .2s ease,transform .2s ease,height .2s cubic-bezier(.4,0,.2,1),width .2s cubic-bezier(.4,0,.2,1);white-space:nowrap;z-index:2}.nplayer_popover_panel-bottom{bottom:auto;margin-bottom:0;margin-top:5px;top:100%;transform:translateY(-10px)}.nplayer_popover_panel-left{left:0;right:auto}.nplayer_popover_mask{bottom:0;left:0;position:fixed;right:0;top:0;z-index:1}.nplayer_switch{background:rgba(255,255,255,.3);border-radius:10px;cursor:pointer;display:inline-block;padding:2px;transition:background-color .3s cubic-bezier(.4,0,.2,1);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:30px}.nplayer_switch:after{background:#fff;border-radius:50%;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);content:"";display:block;height:15px;transition:transform .15s cubic-bezier(.4,0,.2,1);width:15px}.nplayer_switch-active{background:var(--theme-color)}.nplayer_switch-active:after{transform:translateX(16px)}.nplayer_loading{display:none;height:70px;left:50%;pointer-events:none;position:absolute;top:50%;transform:translate(-50%,-50%);width:70px}.nplayer_loading i{-webkit-animation:nplayer-loading 1s linear infinite;animation:nplayer-loading 1s linear infinite;background-color:#fff;border-radius:50%/20%;height:25%;left:44.5%;opacity:.25;position:absolute;top:37%;width:5px}.nplayer_loading i:first-child{-webkit-animation-delay:0s;animation-delay:0s;transform:rotate(-150deg) translateY(-150%)}.nplayer_loading i:nth-child(2){-webkit-animation-delay:.0833s;animation-delay:.0833s;transform:rotate(-120deg) translateY(-150%)}.nplayer_loading i:nth-child(3){-webkit-animation-delay:.1666s;animation-delay:.1666s;transform:rotate(-90deg) translateY(-150%)}.nplayer_loading i:nth-child(4){-webkit-animation-delay:.2499s;animation-delay:.2499s;transform:rotate(-60deg) translateY(-150%)}.nplayer_loading i:nth-child(5){-webkit-animation-delay:.3332s;animation-delay:.3332s;transform:rotate(-30deg) translateY(-150%)}.nplayer_loading i:nth-child(6){-webkit-animation-delay:.4165s;animation-delay:.4165s;transform:rotate(0deg) translateY(-150%)}.nplayer_loading i:nth-child(7){-webkit-animation-delay:.4998s;animation-delay:.4998s;transform:rotate(30deg) translateY(-150%)}.nplayer_loading i:nth-child(8){-webkit-animation-delay:.5831s;animation-delay:.5831s;transform:rotate(60deg) translateY(-150%)}.nplayer_loading i:nth-child(9){-webkit-animation-delay:.6664s;animation-delay:.6664s;transform:rotate(90deg) translateY(-150%)}.nplayer_loading i:nth-child(10){-webkit-animation-delay:.7497s;animation-delay:.7497s;transform:rotate(120deg) translateY(-150%)}.nplayer_loading i:nth-child(11){-webkit-animation-delay:.833s;animation-delay:.833s;transform:rotate(150deg) translateY(-150%)}.nplayer_loading i:nth-child(12){-webkit-animation-delay:.9163s;animation-delay:.9163s;transform:rotate(180deg) translateY(-150%)}.nplayer_toast{background:rgba(0,0,0,.7);font-size:16px;padding:3px 5px;position:absolute;white-space:nowrap}.nplayer_toast-center{left:50%;top:50%;transform:translate(-50%,-50%)}.nplayer_toast-left-top,.nplayer_toast-right-top{top:5px}.nplayer_toast-left-bottom,.nplayer_toast-left-top{left:5px}.nplayer_toast-right-bottom,.nplayer_toast-right-top{right:5px}.nplayer_toast-left-bottom,.nplayer_toast-right-bottom{bottom:60px}.nplayer_slider{cursor:pointer;display:inline-block;flex:1;margin:0 6px;padding:5px 0;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.nplayer_slider_track{background:rgba(255,255,255,.3);height:4px;overflow:hidden;width:100%}.nplayer_slider_track_inner{background:var(--theme-color);height:100%;transform-origin:0 0}.nplayer_slider_stop{background:rgba(255,255,255,.7);font-size:12px;height:8px;position:absolute;top:3px;white-space:nowrap;width:3px}.nplayer_slider_stop span{left:2px;position:absolute;top:6px;transform:translateX(-50%)}.nplayer_slider_dot{background:var(--theme-color);border-radius:50%;height:13px;left:-6px;pointer-events:none;position:absolute;top:.5px;width:13px}.nplayer_checkbox{align-items:center;color:#fff;cursor:pointer;display:inline-flex;font-size:12px;position:relative;transition:color .2s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.nplayer_checkbox:before{border:1px solid;border-radius:2px;content:"";display:block;height:1em;margin-right:5px;transition:background .2s ease;width:1em}.nplayer_checkbox:after{border:1px solid #fff;border-left:0;border-top:0;content:"";height:7px;left:.5em;opacity:0;position:absolute;top:50%;transform:translate(-30%,-70%) rotate(45deg);width:4px}.nplayer_checkbox:hover{color:var(--theme-color)}.nplayer_checkbox-active:before{background:var(--theme-color);border-color:var(--theme-color)}.nplayer_checkbox-active:after{opacity:1}.nplayer_poster{background-color:var(--poster-bg-color);background-position:50% 50%;background-repeat:no-repeat;background-size:cover;bottom:0;left:0;position:absolute;right:0;top:0}.nplayer_poster_play{cursor:pointer;height:50px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:50px}.nplayer_control{bottom:0;left:0;padding:0 5px 8px;position:absolute;right:0;transition:opacity .2s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.nplayer_control-hide{opacity:0;pointer-events:none}.nplayer_control:hover{cursor:default!important;opacity:1!important;pointer-events:auto!important}.nplayer_control:hover~.nplayer_control_bg{opacity:1!important}.nplayer_control_bg{background:url('+ct+') repeat-x bottom;bottom:0;height:100px;left:0;pointer-events:none;position:absolute;right:0;transition:opacity .2s ease}.nplayer_control_bg-hide{opacity:0}.nplayer_control_bar{align-items:center;display:flex;font-size:0}.nplayer_control_bar-top{left:0;padding-top:5px;position:absolute;right:0;top:0;transition:opacity .2s ease;z-index:10}.nplayer_control_bar-hide{opacity:0;pointer-events:none}.nplayer_control_bar>div{margin:0 3px}.nplayer_control_time{font-size:13px;white-space:nowrap}.nplayer_control_time-live{align-items:center;display:flex}.nplayer_control_time-live:before{background:var(--theme-color);border-radius:50%;content:"";display:block;height:10px;margin-right:5px;margin-top:2px;width:10px}.nplayer_control_time :first-child:after{content:"/";display:inline-block;font-size:12px;margin:0 5px;transform:translateY(-.5px)}.nplayer_control_volume{position:relative;z-index:1}.nplayer_control_volume-ver .nplayer_control_volume_bars{bottom:100%;left:0;right:0}.nplayer_control_volume-hor .nplayer_control_volume_bars{bottom:0;left:100%;top:0}.nplayer_control_volume_bars{background:rgba(255,255,255,.3);font-size:0;opacity:0;overflow:hidden;pointer-events:none;position:absolute;transition:opacity .2s ease}.nplayer_control_volume:hover .nplayer_control_volume_bars{opacity:1;pointer-events:auto}.nplayer_control_volume_bar{background:var(--volume-progress-bg);height:100%;transform:scaleX(0) scaleY(0);transform-origin:0 100%;width:100%;will-change:transform}.nplayer_control_setting .nplayer_icon{transition:transform .2s ease}.nplayer_control_setting-active{background:var(--theme-color)}.nplayer_control_setting-active .nplayer_icon{transform:rotate(90deg)}.nplayer_control_setting_item,.nplayer_control_setting_option{align-items:center;display:flex;padding:5px 8px}.nplayer_control_setting_item:hover,.nplayer_control_setting_option:hover{background:rgba(255,255,255,.2)}.nplayer_control_setting_item{justify-content:space-between}.nplayer_control_setting_item>:first-child{margin-right:20px}.nplayer_control_setting_item-select:after{border:4px solid transparent;border-left-color:#fff;content:"";display:block;height:0;margin-left:10px;width:0}.nplayer_control_setting_option:before{border-bottom:1px solid #fff;border-right:1px solid #fff;content:"";display:inline-block;height:12px;margin-left:6px;margin-right:17px;opacity:0;transform:rotate(45deg);width:5px}.nplayer_control_setting_option-active:before{opacity:1}.nplayer_control_setting_back{border-bottom:1px solid rgba(255,255,255,.2);justify-content:flex-start;padding-right:20px}.nplayer_control_setting_back:before{border:4px solid transparent;border-right-color:#fff;content:"";display:block;height:0;margin-right:21px;width:0}.nplayer_contextmenu{background:rgba(0,0,0,.7);font-size:14px;left:0;padding:3px 0;position:absolute;top:0}.nplayer_contextmenu_item{align-items:center;cursor:pointer;display:flex;justify-content:space-between;padding:5px 8px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}.nplayer_contextmenu_item:hover{background:rgba(255,255,255,.2)}.nplayer_contextmenu_item-disabled{color:rgba(255,255,255,.5)}.nplayer_contextmenu_item-disabled:hover{background:transparent}.nplayer_contextmenu_item-checked:after{border-bottom:1px solid #fff;border-right:1px solid #fff;content:"";display:inline-block;height:12px;margin:0 2px 5px;transform:rotate(45deg);width:5px}.nplayer_progress{cursor:pointer;flex:1;padding:5px 0;position:relative}.nplayer_progress_bars{background:rgba(255,255,255,.3);height:4px;overflow:hidden;position:relative;touch-action:none;transition:height .12s ease}.nplayer_progress_dot{left:0;pointer-events:none;position:absolute;top:50%;transform:translateY(-50%);transition:opacity .2s ease}.nplayer_progress_dot>:first-child{transform:translate(-50%)}.nplayer_progress_dot_inner{background:var(--theme-color);border-radius:50%;height:13px;width:13px}@media not all and (hover:none){.nplayer_progress_dot{opacity:0}.nplayer_progress:hover .nplayer_progress_dot{opacity:1}}.nplayer_progress_buf,.nplayer_progress_played{bottom:0;left:0;position:absolute;right:0;top:0;transform:scaleX(0);transform-origin:0 0}.nplayer_progress_played{background:var(--progress-bg);will-change:transform}.nplayer_progress_buf,.nplayer_progress_hover{background:rgba(255,255,255,.5)}.nplayer_progress_hover{opacity:0}.nplayer_progress:hover .nplayer_thumb{display:block}.nplayer_thumb{bottom:20px;display:none;font-size:12px;left:0;pointer-events:none;position:absolute;text-align:center;text-shadow:0 0 2px rgba(0,0,0,.3)}.nplayer_thumb_img{background-color:rgba(255,255,255,.5);background-repeat:no-repeat;border:1px solid #fff;box-shadow:0 0 10px rgba(0,0,0,.1)}.nplayer_thumb_time{background:rgba(0,0,0,.7);border-radius:3px;display:inline-block;margin-top:5px;padding:2px 5px 3px}@-webkit-keyframes nplayer-loading{0%{opacity:.85}50%{opacity:.25}to{opacity:.25}}@keyframes nplayer-loading{0%{opacity:.85}50%{opacity:.25}to{opacity:.25}}',""]),d.default=ut},645:function(v){v.exports=function(d){var m=[];return m.toString=function(){return this.map(function(E){var w="",j=E[5]!==void 0;return E[4]&&(w+="@supports (".concat(E[4],") {")),E[2]&&(w+="@media ".concat(E[2]," {")),j&&(w+="@layer".concat(E[5].length>0?" ".concat(E[5]):""," {")),w+=d(E),j&&(w+="}"),E[2]&&(w+="}"),E[4]&&(w+="}"),w}).join("")},m.i=function(E,w,j,p,G){typeof E=="string"&&(E=[[null,E,void 0]]);var q={};if(j)for(var at=0;at<this.length;at++){var ut=this[at][0];ut!=null&&(q[ut]=!0)}for(var ct=0;ct<E.length;ct++){var x=[].concat(E[ct]);j&&q[x[0]]||(G!==void 0&&(x[5]===void 0||(x[1]="@layer".concat(x[5].length>0?" ".concat(x[5]):""," {").concat(x[1],"}")),x[5]=G),w&&(x[2]&&(x[1]="@media ".concat(x[2]," {").concat(x[1],"}")),x[2]=w),p&&(x[4]?(x[1]="@supports (".concat(x[4],") {").concat(x[1],"}"),x[4]=p):x[4]="".concat(p)),m.push(x))}},m}},667:function(v){v.exports=function(d,m){return m||(m={}),d&&(d=String(d.__esModule?d.default:d),/^['"].*['"]$/.test(d)&&(d=d.slice(1,-1)),m.hash&&(d+=m.hash),/["'() \t\n]|(%20)/.test(d)||m.needQuotes?'"'.concat(d.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):d)}},81:function(v){v.exports=function(d){return d[1]}},4:function(v,d,m){var E;typeof window<"u"&&window.document&&function(){var w=m(14);w.__esModule&&(w=w.default);var j=typeof w=="string"?w:w[0][1],p=!1;E||((E=document.createElement("style")).setAttribute("type","text/css"),p=!0),"textContent"in E?E.textContent=j:E.styleSheet.cssText=j,p&&document.head.appendChild(E)}()},831:function(v){v.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg=="}},W={};function S(v){var d=W[v];if(d!==void 0)return d.exports;var m=W[v]={id:v,exports:{}};return ot[v](m,m.exports,S),m.exports}S.m=ot,S.n=function(v){var d=v&&v.__esModule?function(){return v.default}:function(){return v};return S.d(d,{a:d}),d},S.d=function(v,d){for(var m in d)S.o(d,m)&&!S.o(v,m)&&Object.defineProperty(v,m,{enumerable:!0,get:d[m]})},S.o=function(v,d){return Object.prototype.hasOwnProperty.call(v,d)},S.r=function(v){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})},S.b=document.baseURI||self.location.href;var it={};return function(){S.r(it),S.d(it,{AIRPLAY:function(){return ke},CLASS_PLAYER:function(){return j},CLASS_PREFIX:function(){return w},Checkbox:function(){return gr},ContextMenu:function(){return _n},Control:function(){return hn},EVENT:function(){return p},EXIT_FULL_SCREEN:function(){return fe},FULL_SCREEN:function(){return se},Fullscreen:function(){return Rn},I18n:function(){return k},Icon:function(){return D},LIVE:function(){return Pe},LOOP:function(){return Ee},Loading:function(){return mn},MUTE:function(){return be},NORMAL:function(){return ge},PAUSE:function(){return me},PIP:function(){return we},PLAY:function(){return de},Player:function(){return V},Popover:function(){return ue},SETTINGS:function(){return ye},SPEED:function(){return _e},Shortcut:function(){return Zn},Slider:function(){return Er},Switch:function(){return le},Toast:function(){return Sn},ToastItem:function(){return Tn},Tooltip:function(){return At},UNMUTE:function(){return ve},VOLUME:function(){return Oe},WEB_EXIT_FULL_SCREEN:function(){return he},WEB_FULL_SCREEN:function(){return pe},WebFullscreen:function(){return Ln},default:function(){return V}});var v={};S.r(v),S.d(v,{Checkbox:function(){return gr},Popover:function(){return ue},Slider:function(){return Er},Switch:function(){return le},Tooltip:function(){return At}}),S(4);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(r){E(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w="nplayer_",j="nplayer",p={ENTER_FULLSCREEN:"EnterFullscreen",EXIT_FULLSCREEN:"ExitFullscreen",WEB_ENTER_FULLSCREEN:"WebEnterFullscreen",WEB_EXIT_FULLSCREEN:"WebExitFullscreen",DURATION_CHANGE:"DurationChange",RATE_CHANGE:"RateChange",AFTER_INIT:"AfterInit",PLAY:"Play",PAUSE:"Pause",ENDED:"Ended",WAITING:"Waiting",STALLED:"Stalled",CANPLAY:"Canplay",LOADED_METADATA:"LoadedMetadata",ERROR:"Error",SEEKED:"Seeked",TIME_UPDATE:"TimeUpdate",VOLUME_CHANGE:"VolumeChange",PROGRESS:"Progress",ENTER_PIP:"EnterPip",EXIT_PIP:"ExitPip",LOADING_SHOW:"LoadingShow",LOADING_HIDE:"LoadingHide",MOUNTED:"Mounted",UPDATE_SIZE:"UpdateSize",BEFORE_DISPOSE:"BeforeDispose",UPDATE_OPTIONS:"UpdateOptions",OPEN_EDGE:"OpenEdge",CONTROL_SHOW:"ControlShow",CONTROL_HIDE:"ControlHide",CONTROL_ITEM_UPDATE:"ControlItemUpdate",BP_CHANGE:"BpChange"},G=typeof window<"u",q=G&&/(iPad|iPhone|iPod)/gi.test(navigator.platform),at=G&&/MSIE|Trident/.test(navigator.userAgent),ut=G&&at&&navigator.userAgent.indexOf("Windows NT 10.0")>-1;function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=/([\w-]+)?(?:#([\w-]+))?((?:\.(?:[\w-]+))*)/;function b(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:w,u=[];e&&(u=x.exec(e)||[]);var o=document.createElement(u[1]||"div");return u[2]&&(o.id=u[3]),u[3]&&(o.className=u[3].replace(/\./g," ".concat(r)).trim()),t&&Object.keys(t).forEach(function(i){var a=t[i];a!==void 0&&(/^on\w+$/.test(i)?o[i]=a:i==="selected"?a&&o.setAttribute(i,"true"):o.setAttribute(i,a))}),n&&(lt(n)?o.innerHTML=n:n.forEach(function(i){return o.appendChild(i)})),o}function Gt(e){return e?lt(e)?document.querySelector(e):e:null}function jt(e){e&&(e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e))}function B(e){e.style.display=""}function I(e){e.style.display="none"}function g(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w;if(!(t=t.trim()))return e;if(e.classList)t.split(" ").forEach(function(u){return e.classList.add(n+u)});else{var r=e.className&&e.className.baseVal||"";e.setAttribute("class",(r?"".concat(r," "):"")+t.split(" ").map(function(u){return n+u}).join(" "))}return e}function N(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w;return e.classList.remove(n+t),e}function wt(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w;return e.classList.contains(n+t)}function Xt(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:w;return t=r+t,n?(e.classList.add(t),!0):n===!1?(e.classList.remove(t),!0):e.classList.toggle(t,n)}var Ge="http://www.w3.org/2000/svg";function Xe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0 0 24 24",r=document.createElementNS(Ge,"svg");if(r.setAttribute("viewBox",n),e&&g(r,e),t){var u=document.createElementNS(Ge,"path");u.setAttributeNS(null,"d",t),r.appendChild(u)}return r}function Ct(e){return e.path||e.composedPath()}var Ze=!1;if(G)try{var Ir=Object.defineProperty({},"once",{get:function(){Ze=!0}});window.addEventListener("test",null,Ir)}catch{}var Dr=function(){function e(r,u,o,i){var a;(function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),this.node=r,this.type=u,this.handler=o,this.options=i,this.options=((a=i)===!0||a===!1||Ke.call(a)==="[object Boolean]"||!!i&&Ze)&&i,r.addEventListener(u,o,this.options)}var t,n;return t=e,(n=[{key:"dispose",value:function(){this.handler&&(this.node.removeEventListener(this.type,this.handler,this.options),this.node=null,this.handler=null,this.options=null)}}])&&ct(t.prototype,n),e}();function qe(e){var t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity="0",t.removeAttribute("hidden");var n=e.parentNode||document.body;n.appendChild(t);var r=t.getBoundingClientRect();return n.removeChild(t),r}function Br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zt=function(){function e(r,u,o,i){var a=this;(function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),Et(this,"pending",!1),Et(this,"downHandler",function(c){c.preventDefault(),a.el.setPointerCapture(c.pointerId),a.el.addEventListener("pointermove",a.moveHandler,!0),a.start(c)}),Et(this,"moveHandler",function(c){c.preventDefault(),a.lastEv=c,a.pending||(a.pending=!0,requestAnimationFrame(a.handlerMove))}),Et(this,"handlerMove",function(){a.move(a.lastEv),a.pending=!1}),Et(this,"upHandler",function(c){c.preventDefault(),a.el.releasePointerCapture(c.pointerId),a.el.removeEventListener("pointermove",a.moveHandler,!0),a.end&&a.end(c)}),this.el=r,this.start=u,this.move=o,this.end=i,r.addEventListener("pointerdown",this.downHandler,!0),r.addEventListener("pointerup",this.upHandler,!0),r.addEventListener("pointercancel",this.upHandler,!0)}var t,n;return t=e,(n=[{key:"dispose",value:function(){this.el&&(this.el.removeEventListener("pointerdown",this.downHandler,!0),this.el.removeEventListener("pointerup",this.upHandler,!0),this.el.removeEventListener("pointercancel",this.upHandler,!0),this.el.removeEventListener("pointermove",this.moveHandler,!0),this.start=null,this.move=null,this.end=null,this.lastEv=null,this.el=null)}}])&&Br(t.prototype,n),e}();function Hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ht=function(){function e(r,u){var o,i,a,c=this;(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),a=function(){c.rect=c.el.getBoundingClientRect()},(i="update")in(o=this)?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a,this.el=r,this.player=u,this.rect={},u&&u.on(p.UPDATE_SIZE,this.update)}var t,n;return t=e,(n=[{key:"isHeightGtWidth",get:function(){return this.width<this.height}},{key:"width",get:function(){return this.tryUpdate(this.rect.width),this.rect.width}},{key:"height",get:function(){return this.tryUpdate(this.rect.height),this.rect.height}},{key:"x",get:function(){return this.tryUpdate(this.rect.left),this.rect.left}},{key:"y",get:function(){return this.tryUpdate(this.rect.top),this.rect.top}},{key:"changed",get:function(){var r=this.el.getBoundingClientRect(),u=r.top!==this.rect.top||r.left!==this.rect.left||r.width!==this.rect.width||r.height!==this.rect.height;return u&&(this.rect=r),u}},{key:"tryUpdate",value:function(r){r||this.update()}},{key:"dispose",value:function(){this.player&&this.player.off(p.UPDATE_SIZE,this.update),this.el=null,this.rect=null}}])&&Hr(t.prototype,n),e}(),Ke=Object.prototype.toString;function lt(e){return typeof e=="string"||e instanceof String}function qt(e){return typeof e=="function"}function Mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Nr=function e(t,n,r){Qe(this,e),this.fn=t,this.context=n,this.once=r,this.once=r||!1},Ur=function(){function e(){Qe(this,e),this._events=Object.create(null),this._eventsCount=0}var t,n;return t=e,(n=[{key:"emit",value:function(r,u,o,i,a,c){if(!this._events[r])return!1;var l,s,f=this._events[r],h=arguments.length;if(f.fn){switch(f.once&&this.off(r,f.fn,void 0,!0),h){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,u),!0;case 3:return f.fn.call(f.context,u,o),!0;case 4:return f.fn.call(f.context,u,o,i),!0;case 5:return f.fn.call(f.context,u,o,i,a),!0;case 6:return f.fn.call(f.context,u,o,i,a,c),!0}for(s=1,l=new Array(h-1);s<h;s++)l[s-1]=arguments[s];f.fn.apply(f.context,l)}else{var P,O=f.length;for(s=0;s<O;s++)switch(f[s].once&&this.off(r,f[s].fn,void 0,!0),h){case 1:f[s].fn.call(f[s].context);break;case 2:f[s].fn.call(f[s].context,u);break;case 3:f[s].fn.call(f[s].context,u,o);break;case 4:f[s].fn.call(f[s].context,u,o,i);break;default:if(!l)for(P=1,l=new Array(h-1);P<h;P++)l[P-1]=arguments[P];f[s].fn.apply(f[s].context,l)}}return!0}},{key:"on",value:function(r,u,o){var i=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(typeof u!="function")throw new TypeError("The listener must be a function");var a=new Nr(u,o||this,i);return this._events[r]?this._events[r].fn?this._events[r]=[this._events[r],a]:this._events[r].push(a):(this._events[r]=a,this._eventsCount++),{dispose:this.off.bind(this,r,u)}}},{key:"once",value:function(r,u,o){return this.on(r,u,o,!0)}},{key:"off",value:function(r,u,o,i){if(!this._events[r])return this;if(!u)return this.clearEvent(r),this;var a=this._events[r],c=[];if(a.fn)a.fn!==u||i&&!a.once||o&&a.context!==o||this.clearEvent(r);else{for(var l=0,s=a.length;l<s;l++)(a[l].fn!==u||i&&!a[l].once||o&&a[l].context!==o)&&c.push(a[l]);c.length?this._events[r]=c.length===1?c[0]:c:this.clearEvent(r)}return this}},{key:"removeAllListeners",value:function(r){return r?this._events[r]&&this.clearEvent(r):(this._events=Object.create(null),this._eventsCount=0),this}},{key:"clearEvent",value:function(r){--this._eventsCount==0?this._events=Object.create(null):delete this._events[r]}}])&&Mr(t.prototype,n),e}();function Fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(r,u,o,i,a){(function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),u&&!lt(u)?this.el=u:this.el=b(u,o,i,a),r&&r.appendChild(this.el)}var t,n;return t=e,(n=[{key:"applyStyle",value:function(r){Object.assign(this.el.style,r)}},{key:"dispose",value:function(){jt(this.el),dt(this)}}])&&Fr(t.prototype,n),e}();function $e(e,t){return!(!e||!t)&&(e===t||e.id===t.id)}function Je(e,t){jt(e.el),t&&t(e)}function Kt(e,t,n,r){t.insertBefore(e.el,(n==null?void 0:n.el)||null),r&&r(e)}function Vr(e){for(var t,n=[],r=[e[0]],u=0,o=0,i=0,a=0,c=1,l=e.length;c<l;++c)if((t=e[c])!==-1)if(t>e[r[a=r.length-1]])n[c]=r[a],r.push(c);else{for(u=0,o=a;u<o;)t>e[r[i=(u+o)/2|0]]?u=i+1:o=i;n[c]=r[u-1],r[u]=c}for(u=r[(a=r.length)-1];a-- >0;)r[a]=u,u=n[u];return r}var zr={checked:!0,muted:!0,multiple:!0,selected:!0};function tn(e,t,n){zr[t]?e[t]=n:n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Yr(e,t,n){var r,u;n!==void 0&&(Object.keys(n).forEach(function(o){r=t[o],u=n[o],o==="style"?function(i,a,c){c!==void 0&&(c?(Object.keys(c).forEach(function(l){i.style[l]=c[l]||""}),Object.keys(a).forEach(function(l){l in c||(i.style[l]="")})):i.removeAttribute("style"))}(e,r,u):r!==u&&tn(e,o,u)}),Object.keys(t).forEach(function(o){o in n||tn(e,o,void 0)}))}function U(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(Math.min(e,n),t)}var yt=new Map;function y(e,t){return yt.has(e)||yt.set(e,[]),yt.get(e).push(t),t}function dt(e){yt.has(e)&&(yt.get(e).forEach(function(t){return t.dispose()}),yt.delete(e))}function T(e,t,n,r,u){var o=new Dr(t,n,r,u);return e&&y(e,o),o}function Rt(e,t){var n=!1,r=!0,u=null;return function(){if(u=arguments,r)return r=!1,e.apply(t,u);n||(n=!0,requestAnimationFrame(function(){e.apply(t,u),n=!1}))}}function Lt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";if((e=String(e)).length>=2)return e;for(var r=0,u=t-e.length;r<u;r++)e=n+e;return e}function Ot(e){return isFinite(e)?e<=0?"0:00":(e=Math.round(e))<60?"0:".concat(Lt(e)):e<3600?"".concat(Math.floor(e/60),":").concat(Lt(e%60)):"".concat(Math.floor(e/3600),":").concat(Lt(Math.floor(e%3600/60)),":").concat(Lt(e%60)):"-"}var Wr={$:b,clamp:U,addDisposableListener:T,addDisposable:y,createSvg:Xe,dispose:dt,getEventPath:Ct,removeNode:jt,addClass:g};function en(e){return(en=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nn(e,t){return(nn=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Xr(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Qt(e);if(t){var u=Qt(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return Zr(this,n)}}function Zr(e,t){if(t&&(en(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var rn="tooltip-left",on="tooltip-right",an="tooltip-bottom",At=function(e){(function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),i&&nn(o,i)})(u,e);var t,n,r=Xr(u);function u(o,i){var a;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,u),a=r.call(this,o,".tooltip_content"),g(o,"tooltip"),i&&(a.html=i),a}return t=u,(n=[{key:"html",get:function(){return this.el.innerHTML},set:function(o){this.el.innerHTML=o}},{key:"resetPos",value:function(){N(this.el,rn),N(this.el,on),N(this.el,an)}},{key:"setBottom",value:function(){g(this.el,an)}},{key:"setLeft",value:function(){g(this.el,rn)}},{key:"setRight",value:function(){g(this.el,on)}},{key:"hide",value:function(){I(this.el)}},{key:"show",value:function(){B(this.el)}}])&&Gr(t.prototype,n),u}(C),qr=function(){return{id:"spacer",el:b(".spacer")}};function un(e){return(un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Kr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cn(e,t){return(cn=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function $r(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=$t(e);if(t){var u=$t(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return Jr(this,n)}}function Jr(e,t){if(t&&(un(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mt(e)}function mt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $t(e){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jt=function(e){(function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),i&&cn(o,i)})(u,e);var t,n,r=$r(u);function u(o,i,a){var c,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(Kr(this,u),It(mt(c=r.call(this,o,".control_bar")),"prevItems",[]),It(mt(c),"spacer",qr()),It(mt(c),"initControlItem",function(f){var h;if(f=c.getItem(f))return f.el||(f.el=b()),f.mounted?(f.tooltip&&(f.tooltip.resetPos(),c.position===2&&f.tooltip.setBottom()),void(f.update&&f.update(c.position))):(f.tip&&(h=new At(f.el,f.tip)),f.init&&(f.init.length>2&&!h&&(h=new At(f.el)),f.init(c.player,c.position,h)),f.dispose&&y(mt(c),f),h||(h=f.tooltip),h&&(h.resetPos(),c.position===2&&h.setBottom()),f.mounted=!0,f)}),It(mt(c),"onHideControlItem",function(f){f.hide&&f.hide()}),c.player=i,c.position=l,l===2&&g(c.el,"control_bar-top"),a){var s=document.createDocumentFragment();a.forEach(function(f){(f=c.initControlItem(f))&&(s.appendChild(f.el),c.prevItems.push(f))}),c.updateTooltipPos(),c.el.appendChild(s)}return c}return t=u,(n=[{key:"getItem",value:function(o){return o==="spacer"?this.spacer:(lt(o)&&(o=this.player.getControlItem(o)),!o||o.isSupport&&!o.isSupport(this.player)?void 0:o)}},{key:"updateTooltipPos",value:function(){var o=this,i=this.prevItems.length-1;this.prevItems.forEach(function(a,c){a.tooltip&&(a.tooltip.resetPos(),o.position===2&&a.tooltip.setBottom(),c===0?a.tooltip.setLeft():c===i&&a.tooltip.setRight())})}},{key:"getItems",value:function(){return this.prevItems}},{key:"setItems",value:function(o){o&&(this.prevItems=o)}},{key:"update",value:function(o){var i=this;if(o){var a=[];o.forEach(function(c){(c=i.getItem(c))&&a.push(c)}),function(c,l,s){for(var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},h=c.length-1,P=l.length-1,O=0,M=c[O],Y=l[O];$e(M,Y);)M=c[++O],Y=l[O];if(O<h&&O<P)for(M=c[h],Y=l[P];$e(M,Y);)M=c[--h],Y=l[--P];if(!(O>h&&O>P))if(O>h)for(var vt=O;vt<=P;vt++)Kt(l[vt],s,void 0,f.mount);else if(O>P)for(var gt=O;gt<=h;gt++)Je(c[gt],f.unmount);else{for(var et=[],Tt=new Map,nt=O;nt<=P;nt++)et.push(-1),Tt.set(l[nt].id||l[nt],nt);for(var _t=!1,Cr=0,pt=0,zt=O;zt<=h;zt++)M=c[zt],(pt=Tt.get(M.id||M))==null?Je(M,f.unmount):(et[pt-O]=zt,Cr>pt?_t=!0:Cr=pt);for(var Rr,We,Lr=_t?Vr(et):[],Ar=Lr.length-1,St=et.length-1;St>-1;St--)Rr=et[St],We=l[(pt=O+St)+1],Rr===-1?Kt(l[pt],s,We,f.mount):_t&&(St===Lr[Ar]?Ar--:Kt(l[pt],s,We,f.update))}}(this.prevItems,a,this.el,{mount:this.initControlItem,unmount:this.onHideControlItem}),this.prevItems=a,this.updateTooltipPos(),this.player.emit(p.CONTROL_ITEM_UPDATE)}}}])&&Qr(t.prototype,n),u}(C);function ln(e){return(ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function to(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sn(e,t){return(sn=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function eo(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=te(e);if(t){var u=te(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return no(this,n)}}function no(e,t){if(t&&(ln(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(e)}function R(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee="control-hide",fn="control_bg-hide",pn="control_bar-hide",hn=function(e){(function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),i&&sn(o,i)})(u,e);var t,n,r=eo(u);function u(o,i){var a;(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,u),K(R(a=r.call(this,o,".control")),"delayHidTime",3e3),K(R(a),"latch",0),K(R(a),"controlBars",[]),K(R(a),"emitAndUpdateBp",function(){var l=a.player.rect.width,s=a.controls.find(function(h){return l<=h.bp});if(a.currentBp!=(s==null?void 0:s.bp)){a.currentBp=s==null?void 0:s.bp;var f=(s==null?void 0:s.controls)||a.player.opts.controls;a.updateItems(f[0],0),a.updateItems(f[1],1),a.updateItems(f[2],2),a.player.emit(p.BP_CHANGE,a.currentBp)}return s}),K(R(a),"show",function(){N(a.el,ee),N(a.bgElement,fn),N(a.controlBars[2].el,pn),a.player.el.style.cursor="",a.player.emit(p.CONTROL_SHOW)}),K(R(a),"hide",function(){g(a.el,ee),g(a.bgElement,fn),g(a.controlBars[2].el,pn),a.player.el.style.cursor="none",a.player.emit(p.CONTROL_HIDE)}),K(R(a),"showTransient",function(){a.show(),clearTimeout(a.showTimer),a.showTimer=setTimeout(a.tryHide,a.delayHidTime)}),K(R(a),"tryHide",function(){!a.player.video.played.length||a.player.paused||a.latch||a.hide()}),a.player=i,a.bgElement=o.appendChild(b(".control_bg")),a.controlBars[1]=y(R(a),new Jt(a.el,i,i.opts.controls[1],1)),a.controlBars[0]=y(R(a),new Jt(a.el,i,i.opts.controls[0],0)),a.controlBars[2]=y(R(a),new Jt(o,i,i.opts.controls[2],2));var c=i.opts.bpControls;return a.controls=Object.keys(c).map(function(l){return{bp:Number(l),controls:c[l]}}).sort(function(l,s){return l.bp-s.bp}),a.controls.length&&(y(R(a),i.on(p.UPDATE_SIZE,a.emitAndUpdateBp)),y(R(a),i.on(p.MOUNTED,a.emitAndUpdateBp))),y(R(a),i.on(p.PAUSE,function(){i.opts.isTouch||a.show()})),y(R(a),i.on(p.PLAY,function(){i.opts.isTouch||a.showTransient()})),T(R(a),i.el,"mousemove",a.showTransient),T(R(a),i.el,"mouseleave",a.tryHide),a.showTransient(),a}return t=u,(n=[{key:"isActive",get:function(){return!wt(this.el,ee)}},{key:"filterItems",value:function(o,i){if(o.length&&i.length){var a=new Map;return o.forEach(function(c){return a.set(c,!0)}),i.filter(function(c){return!a.get(c)})}}},{key:"updateItems",value:function(o){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=this.controlBars[a];if(c){c.update(o||[]);var l=c.getItems();this.controlBars.forEach(function(s,f){f!==a&&(s.setItems(i.filterItems(l,s.getItems())),s.updateTooltipPos())})}}},{key:"require",value:function(){this.latch++}},{key:"release",value:function(){this.latch&&(this.latch--,this.tryHide())}}])&&to(t.prototype,n),u}(C);function yn(e){return(yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ro(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dn(e,t){return(dn=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function oo(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ne(e);if(t){var u=ne(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return io(this,n)}}function io(e,t){if(t&&(yn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q(e)}function Q(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re="-loading",mn=function(e){(function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),i&&dn(o,i)})(u,e);var t,n,r=oo(u);function u(o,i){var a;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,u),Dt(Q(a=r.call(this,o,i.opts.loadingEl||".loading",void 0,i.opts.loadingEl?void 0:function(c,l){for(var s=[],f=0;f<l;++f)s.push(c);return s.join("")}("<i></i>",12))),"startWaitingTime",0),Dt(Q(a),"_checkCanplay",function(){a.startWaitingTime!==a.player.currentTime&&(a.hide(),clearTimeout(a.showTimer),a.player.off(p.TIME_UPDATE,a._checkCanplay))}),Dt(Q(a),"show",function(){g(a.player.el,re,j),a.player.emit(p.LOADING_SHOW)}),Dt(Q(a),"hide",function(){N(a.player.el,re,j),a.player.emit(p.LOADING_HIDE)}),a.player=i,y(Q(a),i.on(p.CANPLAY,a.hide)),y(Q(a),i.on(p.WAITING,function(){a.player.currentTime&&a.tryShow()})),y(Q(a),i.on(p.STALLED,function(){var c=a.player.currentTime;if(c){var l=!0;a.player.eachBuffer(function(s,f){if(s<=c&&f>c)return l=!1,!0}),l&&a.tryShow()}})),a}return t=u,(n=[{key:"isActive",get:function(){return wt(this.player.el,re,j)}},{key:"checkCanplay",value:function(){this.startWaitingTime=this.player.currentTime,this.player.off(p.TIME_UPDATE,this._checkCanplay),this.player.on(p.TIME_UPDATE,this._checkCanplay)}},{key:"tryShow",value:function(){this.checkCanplay(),clearTimeout(this.showTimer),this.showTimer=setTimeout(this.show,100)}}])&&ro(t.prototype,n),u}(C);function bn(e){return(bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vn(e,t){return(vn=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function uo(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=oe(e);if(t){var u=oe(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return co(this,n)}}function co(e,t){if(t&&(bn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kt(e)}function kt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _n=function(e){(function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),i&&vn(o,i)})(u,e);var t,n,r=uo(u);function u(o,i,a){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,u),gn(kt(c=r.call(this,o,".contextmenu")),"showed",!1),gn(kt(c),"hide",function(){I(c.el)}),c.player=i,c.items=a,I(c.el),c.rect=new ht(c.el,i),c.items.forEach(function(l){return l.init&&l.init(i,l)}),T(kt(c),i.el,"contextmenu",function(l){if(c.hide(),(!i.opts.contextMenuToggle||!c.showed)&&(l.preventDefault(),l.stopPropagation(),c.renderItems())){B(c.el),c.rect.update(),c.player.rect.update();var s=c.rect,f=s.width,h=s.height,P=c.player.rect,O=P.x,M=P.y,Y=window,vt=Y.innerWidth,gt=Y.innerHeight,et=l.clientX,Tt=l.clientY,nt=et-O,_t=Tt-M;et+f>vt&&(nt=vt-f),Tt+h>gt&&(_t=gt-h),c.applyStyle({left:"".concat(nt,"px"),top:"".concat(_t,"px")})}c.showed=!c.showed}),T(kt(c),document,"click",function(){c.showed=!1,c.hide()}),c}return t=u,(n=[{key:"getDomNodes",value:function(){var o=this;return this.items.filter(function(i){return i&&!i.invisible}).map(function(i){var a=b(".contextmenu_item");return i.show&&i.show(o.player,i),i.html&&(a.innerHTML=i.html),i.disabled&&g(a,"contextmenu_item-disabled"),i.checked&&g(a,"contextmenu_item-checked"),i.click&&a.addEventListener("click",function(){return i.click(o.player,i)},!1),a})}},{key:"renderItems",value:function(){var o=this.getDomNodes();if(!o.length)return!1;this.el.textContent="";var i=document.createDocumentFragment();return o.forEach(function(a){return i.appendChild(a)}),this.el.appendChild(i),!0}},{key:"isActive",get:function(){return this.el.style.display!=="none"}}])&&ao(t.prototype,n),u}(C);function wn(e){return(wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function En(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function On(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kn(e,t,n){return t&&On(e.prototype,t),n&&On(e,n),e}function Pn(e,t,n){return(Pn=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,u,o){var i=function(c,l){for(;!Object.prototype.hasOwnProperty.call(c,l)&&(c=Pt(c))!==null;);return c}(r,u);if(i){var a=Object.getOwnPropertyDescriptor(i,u);return a.get?a.get.call(o):a.value}})(e,t,n||e)}function xn(e,t){return(xn=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function lo(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Pt(e);if(t){var u=Pt(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return so(this,n)}}function so(e,t){if(t&&(wn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Tn=function(e){(function(r,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(u&&u.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),u&&xn(r,u)})(n,e);var t=lo(n);function n(r,u){var o,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"center";return En(this,n),(o=t.call(this,r,".toast")).position=i,g(o.el,"toast-".concat(i)),o.el.innerHTML=u,o}return kn(n,[{key:"dispose",value:function(){Pn(Pt(n.prototype),"dispose",this).call(this),clearTimeout(this.timer)}}]),n}(C),Sn=function(){function e(t){var n,r,u;En(this,e),u=[],(r="toasts")in(n=this)?Object.defineProperty(n,r,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[r]=u,this.container=t}return kn(e,[{key:"show",value:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:3e3,u=this.toasts.find(function(o){return o.position===n});return u?(clearTimeout(u.timer),u.el.innerHTML=t):(u=new Tn(this.container,t,n),this.toasts.push(u)),r>0&&(u.timer=setTimeout(this.close.bind(this,u),r)),u}},{key:"close",value:function(t){if(t)return this.toasts=this.toasts.filter(function(n){return n!==t}),t.dispose();this.toasts.forEach(function(n){return n.dispose()}),this.toasts=[]}},{key:"dispose",value:function(){this.toasts&&(this.close(),this.toasts=null,this.container=null)}}]),e}();function fo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cn="-full",Rn=function(){function e(r){var u=this;(function(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")})(this,e),jn(this,"prefix",this.getPrefix()),jn(this,"toggle",function(){u.isActive?u.exit():u.enter()}),this.player=r,T(this,document,this.prefix==="ms"?"MSFullscreenChange":"".concat(this.prefix,"fullscreenchange"),function(){var o="";u.isActive?(u.addClass(),o=p.ENTER_FULLSCREEN):(u.removeClass(),o=p.EXIT_FULLSCREEN),u.player.emit(o),u.player.emit(p.UPDATE_SIZE)}),y(this,r.on(p.UPDATE_OPTIONS,function(){u.disableDblclick()})),this.setTarget(),this.isActive&&this.addClass(),r.opts.isTouch||this.enableDblclick()}var t,n;return t=e,(n=[{key:"getPrefix",value:function(){if(qt(document.exitFullscreen))return"";var r="";return["webkit","moz","ms"].forEach(function(u){(qt(document["".concat(u,"ExitFullscreen")])||qt(document["".concat(u,"CancelFullScreen")]))&&(r=u)}),r}},{key:"requestFullscreen",get:function(){return HTMLElement.prototype.requestFullscreen||HTMLElement.prototype.webkitRequestFullscreen||HTMLElement.prototype.mozRequestFullScreen||HTMLElement.prototype.msRequestFullscreen}},{key:"exitFullscreen",get:function(){return HTMLDocument.prototype.exitFullscreen||HTMLDocument.prototype.webkitExitFullscreen||HTMLDocument.prototype.cancelFullScreen||HTMLDocument.prototype.mozCancelFullScreen||HTMLDocument.prototype.msExitFullscreen}},{key:"fullscreenElement",get:function(){return document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}},{key:"isActive",get:function(){return this.fullscreenElement===this.target}},{key:"addClass",value:function(){g(this.player.el,Cn,j)}},{key:"removeClass",value:function(){N(this.player.el,Cn,j)}},{key:"enableDblclick",value:function(){this.player.video.addEventListener("dblclick",this.toggle)}},{key:"disableDblclick",value:function(){this.player.video.removeEventListener("dblclick",this.toggle)}},{key:"setTarget",value:function(r,u){this.target=(r&&q?u:r)||(q?this.player.video:this.player.el),this.isActive&&this.enter()}},{key:"enter",value:function(){q?this.target.webkitEnterFullscreen():(this.requestFullscreen.call(this.target,{navigationUI:"hide"}),this.player.emit(p.UPDATE_SIZE))}},{key:"exit",value:function(){return!!this.isActive&&(q?this.target.webkitExitFullscreen():(this.exitFullscreen.call(document),this.player.emit(p.UPDATE_SIZE)),!0)}},{key:"dispose",value:function(){this.player&&(this.player.off(p.ENTER_FULLSCREEN),this.player.off(p.EXIT_FULLSCREEN),this.disableDblclick(),this.player=null,dt(this))}}])&&fo(t.prototype,n),e}();function po(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ie="-web-full",Ln=function(){function e(r){var u,o,i,a=this;(function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),i=function(){a.isActive?a.exit():a.enter()},(o="toggle")in(u=this)?Object.defineProperty(u,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):u[o]=i,this.player=r}var t,n;return t=e,(n=[{key:"isActive",get:function(){return wt(this.player.el,ie,j)}},{key:"enter",value:function(){g(this.player.el,ie,j),this.player.emit(p.WEB_ENTER_FULLSCREEN),this.player.emit(p.UPDATE_SIZE)}},{key:"exit",value:function(){return!!this.isActive&&(N(this.player.el,ie,j),this.player.emit(p.WEB_EXIT_FULLSCREEN),this.player.emit(p.UPDATE_SIZE),!0)}},{key:"dispose",value:function(){this.player&&(this.player.off(p.WEB_ENTER_FULLSCREEN),this.player.off(p.WEB_EXIT_FULLSCREEN),this.player=null)}}])&&po(t.prototype,n),e}();function An(e){return(An=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ho(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function In(e,t){return(In=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function yo(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ae(e);if(t){var u=ae(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return mo(this,n)}}function mo(e,t){if(t&&(An(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dn(e)}function Dn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Bn="popover-active",Hn="popover_panel-bottom",ue=function(e){(function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),i&&In(o,i)})(u,e);var t,n,r=yo(u);function u(o,i,a,c){var l;return function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}(this,u),(l=r.call(this,o,".popover")).onHide=i,l.maskEl=l.el.appendChild(b(".popover_mask")),l.panelEl=l.el.appendChild(b(".popover_panel")),a&&l.applyPanelStyle(a),c&&g(l.panelEl,"popover_panel-left"),T(Dn(l),l.maskEl,"click",function(s){s.stopPropagation(),Ct(s).includes(l.panelEl)||l.hide(s)}),l}return t=u,(n=[{key:"resetPos",value:function(){N(this.panelEl,Hn)}},{key:"setBottom",value:function(){g(this.panelEl,Hn)}},{key:"applyPanelStyle",value:function(o){Object.assign(this.panelEl.style,o)}},{key:"show",value:function(){g(this.el,Bn)}},{key:"hide",value:function(o){N(this.el,Bn),this.onHide&&this.onHide(o)}}])&&ho(t.prototype,n),u}(C);function Mn(e){return(Mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function bo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nn(e,t){return(Nn=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function vo(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ce(e);if(t){var u=ce(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return go(this,n)}}function go(e,t){if(t&&(Mn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Un(e)}function Un(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var L,Fn="switch-active",le=function(e){(function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),i&&Nn(o,i)})(u,e);var t,n,r=vo(u);function u(o,i,a){var c;return function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,u),(c=r.call(this,o,".switch")).toggle(i||!1),a&&T(Un(c),c.el,"click",function(){c.toggle(),a(wt(c.el,Fn))}),c}return t=u,(n=[{key:"toggle",value:function(o){Xt(this.el,Fn,o)}}])&&bo(t.prototype,n),u}(C);function Vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vn(Object(n),!0).forEach(function(r){A(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bt=Object.create(null),se="Fullscreen",fe="Exit fullscreen",pe="Web fullscreen",he="Exit web fullscreen",ye="Settings",de="Play",me="Pause",be="Mute",ve="Unmute",ge="Normal",_e="Speed",we="Picture in Picture",Ee="Loop",Oe="Volume",ke="Airplay",Pe="Live",k={defaultLang:"",currentLang:"",t:function(e,t){var n;return((n=bt[t||k.currentLang||k.defaultLang])===null||n===void 0?void 0:n[e])||e},add:function(e,t){bt[e.toLowerCase()]=zn(zn({},bt[e.toLowerCase()]),t),k.fallback()},fallback:function(){Object.keys(bt).forEach(function(e){bt[e.split("-")[0]]=bt[e]})},setCurrentLang:function(e){this.currentLang=e||navigator.language||navigator.userLanguage,this.currentLang&&(this.currentLang=this.currentLang.toLowerCase())},setDefaultLang:function(e){this.defaultLang=(e||"").toLowerCase()}};k.add("zh-cn",(A(L={},se,""),A(L,fe,""),A(L,pe,""),A(L,he,""),A(L,ye,""),A(L,de,""),A(L,me,""),A(L,be,""),A(L,ve,""),A(L,ge,""),A(L,_e,""),A(L,we,""),A(L,Ee,""),A(L,Oe,""),A(L,ke,""),A(L,Pe,""),L)),G&&k.setCurrentLang();function X(e){return function(t){var n=Xe("icon",e);return t&&g(n,t),n}}var D=Object.create(null);function z(e,t){D[e]=t}function Yn(e){return(Yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function _o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wn(e,t)}function Wn(e,t){return(Wn=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Oo(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=xe(e);if(t){var u=xe(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return ko(this,n)}}function ko(e,t){if(t&&(Yn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(e)}function $(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object.defineProperty(D,"register",{value:z}),z("play",X("M6 2.914v18.172L20.279 12 6 2.914z")),z("pause",X("M14.333 20.133H19V3.8h-4.667M5 20.133h4.667V3.8H5v16.333z")),z("volume",X("M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z")),z("muted",X("M3,9H7L12,4V20L7,15H3V9M16.59,12L14,9.41L15.41,8L18,10.59L20.59,8L22,9.41L19.41,12L22,14.59L20.59,16L18,13.41L15.41,16L14,14.59L16.59,12Z")),z("cog",X("M12 15.5A3.5 3.5 0 0 1 8.5 12 3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97 0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1 0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66z")),z("webEnterFullscreen",X("M10,21V19H6.41L10.91,14.5L9.5,13.09L5,17.59V14H3V21H10M14.5,10.91L19,6.41V10H21V3H14V5H17.59L13.09,9.5L14.5,10.91Z")),z("webExitFullscreen",X("M19.5,3.09L15,7.59V4H13V11H20V9H16.41L20.91,4.5L19.5,3.09M4,13V15H7.59L3.09,19.5L4.5,20.91L9,16.41V20H11V13H4Z")),z("enterFullscreen",X("M3 3h6.429v2.571H5.57V9.43H3V3m11.571 0H21v6.429h-2.571V5.57H14.57V3m3.858 11.571H21V21h-6.429v-2.571h3.858V14.57m-9 3.858V21H3v-6.429h2.571v3.858H9.43z")),z("exitFullscreen",X("M14.571 14.571H21v2.572h-3.857V21H14.57v-6.429M3 14.571h6.429V21H6.857v-3.857H3V14.57M6.857 3H9.43v6.429H3V6.857h3.857V3M21 6.857V9.43h-6.429V3h2.572v3.857H21z")),z("airplay",X("M6 22h12l-6-6m9-13H3a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h4v-2H3V5h18v12h-4v2h4a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2z"));var Gn="control_setting-active",Xn="control_setting_option-active",Po=function(e){Eo(u,e);var t,n,r=Oo(u);function u(){var o;wo(this,u);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return st($(o=r.call.apply(r,[this].concat(a))),"id","settings"),st($(o),"tip",k.t(ye)),st($(o),"onItemClick",function(l){return function(){l.type==="switch"?(l.checked=!l.checked,l._switch.toggle(l.checked),l.change&&l.change(l.checked,o.player,l)):(o.renderOptions(),o.showOptionPage(l._optionEl))}}),st($(o),"onOptionClick",function(l,s){return function(){l.value!==s.value&&(l.value=s.value,l.change&&l.change(s.value,o.player,l)),o.renderHome(),o.showHomePage(l._optionEl)}}),st($(o),"back",function(l){return function(){o.showHomePage(l._optionEl)}}),st($(o),"show",function(l){l&&Ct(l).includes(o.popover.el)||(o.tooltip.hide(),o.renderHome(),o.popover.show(),o.homeEl.style.display="",g(o.el,Gn))}),st($(o),"hide",function(l){l&&l.stopPropagation(),o.tooltip.show(),N(o.el,Gn),o.currentOptionEl&&setTimeout(function(){return o.showHomePage(o.currentOptionEl)},200)}),o}return t=u,(n=[{key:"init",value:function(o,i,a){var c=this;this.player=o,this.tooltip=a,g(this.el,"control_setting"),this.items=o.__settingItems,this.el.appendChild(D.cog()),this.popover=new ue(this.el,this.hide,{willChange:"width, height"}),this.homeEl=this.popover.panelEl.appendChild(b()),this.probeEl=this.el.appendChild(b());var l=this.probeEl.style;l.position="absolute",l.zIndex="-9",l.width="2px",l.height="1px",l.opacity="0",this.setPos(i),T(this,this.el,"click",this.show),y(this,o.on(p.MOUNTED,function(){return c.showHomePage()})),this.items.forEach(function(s){return s.init&&s.init(o,s)}),this.renderHome()}},{key:"update",value:function(o){this.setPos(o)}},{key:"setPos",value:function(o){this.popover.resetPos(),o===2&&this.popover.setBottom()}},{key:"renderHome",value:function(){var o=this;this.items.forEach(function(i){var a=i._switch||i._selectedEl||i._optionEl?null:b(".control_setting_item");if(a&&(a.appendChild(b(void 0,void 0,i.html)),i.type!=="switch"&&a.appendChild(b(".spacer"))),i.type==="switch")i._switch||(i._switch=new le(a,i.checked));else{if(!i.options||!i.options.length)return;i._selectedEl||(g(a,"control_setting_item-select"),i._selectedEl=a.appendChild(b()));var c=i.options.find(function(l){return l.value===i.value});if(!c)return;i._selectedEl.innerHTML=c.selectedHtml||c.html||""}i._optionEl&&(i._optionEl.style.display="none"),a&&(a.addEventListener("click",o.onItemClick(i)),o.homeEl.appendChild(a))})}},{key:"renderOptions",value:function(){var o=this;this.items.forEach(function(i){if(i.type!=="switch"){if(!i._optionEl){i._optionEl=o.popover.panelEl.appendChild(b());var a=i._optionEl.appendChild(b(".control_setting_item.control_setting_back"));a.innerHTML=i.html||"",a.addEventListener("click",o.back(i))}!i._optionEls&&i.options&&(i._optionEls=i.options.map(function(c){var l=i._optionEl.appendChild(b(".control_setting_option",void 0,c.html));return l.addEventListener("click",o.onOptionClick(i,c)),l})),i._optionEls&&i._optionEls.forEach(function(c,l){N(c,Xn),i.value===i.options[l].value&&g(c,Xn)}),i._optionEl.style.display="none"}})}},{key:"showOptionPage",value:function(o){this.homeEl.style.display="none",o.style.display="";var i=qe(o),a=i.width,c=i.height,l=this.probeEl.getBoundingClientRect(),s=l.width,f=l.height>s;this.popover.applyPanelStyle({width:"".concat(f?c:a,"px"),height:"".concat(f?a:c,"px")}),this.currentOptionEl=o}},{key:"showHomePage",value:function(o){o&&(o.style.display="none"),this.homeEl.style.display="";var i=qe(this.homeEl),a=i.width,c=i.height,l=this.probeEl.getBoundingClientRect(),s=l.width,f=l.height>s;this.popover.applyPanelStyle({width:"".concat(f?c:a,"px"),height:"".concat(f?a:c,"px")})}}])&&_o(t.prototype,n),u}(C);function xo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var To=["input","textarea","select"],Zn=function(){function e(r,u){var o,i,a,c=this;(function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")})(this,e),a=function(s){if(!(s.altKey||s.ctrlKey||s.metaKey||s.shiftKey)){var f=document.activeElement;if(f){var h=f.tagName.toLowerCase(),P=f.getAttribute("contenteditable");if(To.indexOf(h)>-1||P||P==="")return}var O=s.keyCode?s.keyCode:s.which;if(typeof(M=O)=="number"||Ke.call(M)==="[object Number]"){var M,Y=!1;c.map[O]&&(c.map[O](c.player),Y=!0,c.player.control.showTransient()),Y&&(s.preventDefault(),s.stopPropagation())}}},(i="onKeyDown")in(o=this)?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a,this.player=r,this.map=Object.create(null);var l=function(s){return s.toast.show("".concat(k.t(Oe)," ").concat(Math.round(100*s.volume),"%"),"left-bottom",500)};this.register(27,function(s){s.fullscreen.exit()||s.webFullscreen.exit()}),this.register(32,function(s){return s.toggle()}),this.register(37,function(s){s.rewind(),s.toast.show("- ".concat(s.opts.seekStep,"s"),"left-bottom",500)}),this.register(38,function(s){s.incVolume(),l(s)}),this.register(39,function(s){s.forward(),s.toast.show("+ ".concat(s.opts.seekStep,"s"),"left-bottom",500)}),this.register(40,function(s){s.decVolume(),l(s)}),u&&this.enable()}var t,n;return t=e,(n=[{key:"register",value:function(r,u){this.map[r]=u}},{key:"unregister",value:function(r){return delete this.map[r]}},{key:"dispose",value:function(){this.map&&(dt(this),this.map=null)}},{key:"enable",value:function(){this.disable(),T(this,this.player.el,"keydown",this.onKeyDown)}},{key:"disable",value:function(){dt(this)}}])&&xo(t.prototype,n),e}();function qn(e){return(qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function So(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kn(e,t){return(Kn=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Co(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Te(e);if(t){var u=Te(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return Ro(this,n)}}function Ro(e,t){if(t&&(qn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bt(e)}function Bt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lo=function(e){(function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),i&&Kn(o,i)})(u,e);var t,n,r=Co(u);function u(){var o;So(this,u);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return Se(Bt(o=r.call.apply(r,[this].concat(a))),"id","play"),Se(Bt(o),"onPlay",function(){B(o.pauseIcon),I(o.playIcon),o.tooltip.html=k.t(me)}),Se(Bt(o),"onPause",function(){B(o.playIcon),I(o.pauseIcon),o.tooltip.html=k.t(de)}),o}return t=u,(n=[{key:"init",value:function(o,i,a){this.tooltip=a,this.playIcon=this.el.appendChild(D.play()),this.pauseIcon=this.el.appendChild(D.pause()),o.paused?this.onPause():this.onPlay(),y(this,o.on(p.PLAY,this.onPlay)),y(this,o.on(p.PAUSE,this.onPause)),T(this,this.el,"click",o.toggle)}}])&&jo(t.prototype,n),u}(C);function Qn(e){return(Qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ao(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Io(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $n(e,t){return($n=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Do(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=je(e);if(t){var u=je(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return Bo(this,n)}}function Bo(e,t){if(t&&(Qn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xt(e)}function xt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ho=function(e){(function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),i&&$n(o,i)})(u,e);var t,n,r=Do(u);function u(){var o;Ao(this,u);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return Ht(xt(o=r.call.apply(r,[this].concat(a))),"id","volume"),Ht(xt(o),"onDragStart",function(l){o.onDragging(l)}),Ht(xt(o),"onDragging",function(l){o.rect.update(),o.player.volume=U((o.isVer?o.rect.height-l.clientY+o.rect.y:l.clientX-o.rect.x)/(o.isVer?o.rect.height:o.rect.width))}),Ht(xt(o),"onVolumeChange",function(){o.player.muted?o.mute():o.unmute(),o.bar.style.transform="scale".concat(o.isVer?"Y":"X","(").concat(o.player.volume,")")}),o}return t=u,(n=[{key:"init",value:function(o,i,a){this.player=o,this.tooltip=a,this.isVer=o.opts.volumeVertical,g(this.el,"control_volume"),g(this.el,"control_volume-".concat(this.isVer?"ver":"hor")),this.isVer&&a.hide(),this.volumeIcon=this.el.appendChild(D.volume()),this.mutedIcon=this.el.appendChild(D.muted());var c=this.el.appendChild(b(".control_volume_bars")),l=o.opts.volumeBarLength;c.style[this.isVer?"height":"width"]=lt(l)?l:"".concat(l,"px"),this.bar=c.appendChild(b(".control_volume_bar")),this.rect=new ht(c,o),y(this,o.on(p.VOLUME_CHANGE,this.onVolumeChange)),y(this,new Zt(c,this.onDragStart,this.onDragging)),T(this,this.el,"click",function(s){Ct(s).includes(c)||o.toggleVolume()}),o.opts.isTouch&&T(this,c,"touchstart",function(s){return s.preventDefault()}),this.onVolumeChange()}},{key:"mute",value:function(){B(this.mutedIcon),I(this.volumeIcon),this.tooltip.html=k.t(ve)}},{key:"unmute",value:function(){B(this.volumeIcon),I(this.mutedIcon),this.tooltip.html=k.t(be)}}])&&Io(t.prototype,n),u}(C);function Jn(e){return(Jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Mo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function No(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tr(e,t){return(tr=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Uo(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ce(e);if(t){var u=Ce(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return Fo(this,n)}}function Fo(e,t){if(t&&(Jn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return er(e)}function er(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zo=function(e){(function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),i&&tr(o,i)})(u,e);var t,n,r=Uo(u);function u(){var o;Mo(this,u);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return Vo(er(o=r.call.apply(r,[this].concat(a))),"id","time"),o}return t=u,(n=[{key:"init",value:function(o){var i=this;g(this.el,"control_time"),o.opts.live?(g(this.el,"control_time-live"),this.el.textContent=k.t(Pe)):(this.playedEl=this.el.appendChild(b("span")),this.totalEl=this.el.appendChild(b("span")),this.played=o.currentTime,this.total=o.duration,y(this,o.on(p.TIME_UPDATE,function(){i.played=o.currentTime})),y(this,o.on(p.DURATION_CHANGE,function(){i.total=o.duration})))}},{key:"played",set:function(o){this.playedEl.textContent=Ot(o)}},{key:"total",set:function(o){this.totalEl.textContent=Ot(o)}}])&&No(t.prototype,n),u}(C);function nr(e){return(nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Yo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rr(e,t){return(rr=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Go(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Re(e);if(t){var u=Re(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return Xo(this,n)}}function Xo(e,t){if(t&&(nr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mt(e)}function Mt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zo=function(e){(function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),i&&rr(o,i)})(u,e);var t,n,r=Go(u);function u(){var o;Yo(this,u);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return Le(Mt(o=r.call.apply(r,[this].concat(a))),"id","web-fullscreen"),Le(Mt(o),"enter",function(){B(o.exitIcon),I(o.enterIcon),o.tooltip.html=k.t(he)}),Le(Mt(o),"exit",function(){I(o.exitIcon),B(o.enterIcon),o.tooltip.html=k.t(pe)}),o}return t=u,(n=[{key:"init",value:function(o,i,a){this.tooltip=a,this.enterIcon=this.el.appendChild(D.webEnterFullscreen()),this.exitIcon=this.el.appendChild(D.webExitFullscreen()),o.webFullscreen.isActive?this.enter():this.exit(),y(this,o.on(p.WEB_ENTER_FULLSCREEN,this.enter)),y(this,o.on(p.WEB_EXIT_FULLSCREEN,this.exit)),T(this,this.el,"click",o.webFullscreen.toggle)}}])&&Wo(t.prototype,n),u}(C);function or(e){return(or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function qo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ko(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ir(e,t){return(ir=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Qo(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ae(e);if(t){var u=Ae(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return $o(this,n)}}function $o(e,t){if(t&&(or(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nt(e)}function Nt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jo=function(e){(function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),i&&ir(o,i)})(u,e);var t,n,r=Qo(u);function u(){var o;qo(this,u);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return Ie(Nt(o=r.call.apply(r,[this].concat(a))),"id","fullscreen"),Ie(Nt(o),"enter",function(){B(o.exitIcon),I(o.enterIcon),o.tooltip.html=k.t(fe)}),Ie(Nt(o),"exit",function(){I(o.exitIcon),B(o.enterIcon),o.tooltip.html=k.t(se)}),o}return t=u,(n=[{key:"init",value:function(o,i,a){this.tooltip=a,this.exitIcon=this.el.appendChild(D.exitFullscreen()),this.enterIcon=this.el.appendChild(D.enterFullscreen()),o.fullscreen.isActive?this.enter():this.exit(),y(this,o.on(p.ENTER_FULLSCREEN,this.enter)),y(this,o.on(p.EXIT_FULLSCREEN,this.exit)),T(this,this.el,"click",o.fullscreen.toggle)}}])&&Ko(t.prototype,n),u}(C);function ar(e){return(ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ti(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ur(e,t){return(ur=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function ni(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Be(e);if(t){var u=Be(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return ri(this,n)}}function ri(e,t){if(t&&(ar(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return De(e)}function De(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oi=function(e){(function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),i&&ur(o,i)})(u,e);var t,n,r=ni(u);function u(){var o;ti(this,u);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return cr(De(o=r.call.apply(r,[this].concat(a))),"id","airplay"),cr(De(o),"tip",k.t(ke)),o}return t=u,(n=[{key:"init",value:function(o){var i=this;this.isSupport()?(this.el.appendChild(D.airplay()),T(this,o.video,"webkitplaybacktargetavailabilitychanged",function(a){a.availability==="available"?B(i.el):I(i.el)}),T(this,this.el,"click",function(){var a=o.video;a&&a.webkitShowPlaybackTargetPicker&&a.webkitShowPlaybackTargetPicker()})):I(this.el)}},{key:"isSupport",value:function(){return!!window.WebKitPlaybackTargetAvailabilityEvent}}])&&ei(t.prototype,n),u}(C);function lr(e){return(lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ii(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sr(e,t){return(sr=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function ai(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Me(e);if(t){var u=Me(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return ui(this,n)}}function ui(e,t){if(t&&(lr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return He(e)}function He(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var ci=function(e){(function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),i&&sr(o,i)})(u,e);var t,n,r=ai(u);function u(o,i){var a,c,l,s;return function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}(this,u),a=r.call(this,o,".thumb"),c=He(a),s={startSecond:0,gapSecond:10,col:5,row:5,width:160,height:90,images:[]},(l="opts")in c?Object.defineProperty(c,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):c[l]=s,a.updateOptions(i),a.timeEl=a.el.appendChild(b(".thumb_time")),a.timeEl.textContent="0:00",a.rect=y(He(a),new ht(a.el)),a}return t=u,(n=[{key:"getCurrentThumb",value:function(o){var i=0|Math.max(o/this.opts.gapSecond-this.ssGapRatio,0),a=this.opts.images[i/this.thumbImgPrePic|0];if(a)return{url:a,x:i%this.opts.col*this.opts.width,y:~~(i%this.thumbImgPrePic/this.opts.col)*this.opts.height}}},{key:"updateOptions",value:function(o){Object.assign(this.opts,o),this.opts.images.length&&(this.imgEl||(this.imgEl=this.el.appendChild(b(".thumb_img"))),this.imgEl.style.width="".concat(this.opts.width,"px"),this.imgEl.style.height="".concat(this.opts.height,"px"),this.thumbImgPrePic=this.opts.col*this.opts.row,this.ssGapRatio=this.opts.startSecond/this.opts.gapSecond)}},{key:"update",value:function(o,i,a){if(this.timeEl.textContent=Ot(o),this.imgEl){var c=this.getCurrentThumb(o);c&&(this.imgEl.style.backgroundImage="url(".concat(c.url,")"),this.imgEl.style.backgroundPosition="-".concat(c.x,"px -").concat(c.y,"px"))}else this.rect.update();var l=this.rect.width/2;this.applyStyle({left:"".concat(U(i-l,0,Math.max(0,a-2*l)),"px")})}}])&&ii(t.prototype,n),u}(C);function fr(e){return(fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function li(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function si(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pr(e,t){return(pr=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function fi(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ne(e);if(t){var u=Ne(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return pi(this,n)}}function pi(e,t){if(t&&(fr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J(e)}function J(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hi=function(e){(function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),i&&pr(o,i)})(u,e);var t,n,r=fi(u);function u(){var o;li(this,u);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return ft(J(o=r.call.apply(r,[this].concat(a))),"id","progress"),ft(J(o),"dragging",!1),ft(J(o),"onDragStart",function(l){o.dragging=!0,o.rect.update(),o.onDragging(l)}),ft(J(o),"onDragging",function(l){var s=o.rect.isHeightGtWidth,f=s?l.clientY-o.rect.y:l.clientX-o.rect.x;o.setPlayedBarLength(f/(s?o.rect.height:o.rect.width)),o.updateThumbnail(l)}),ft(J(o),"onDragEnd",function(l){o.dragging=!1;var s=o.rect.isHeightGtWidth;o.player.seek(o.getCurrentTime(s?l.clientY:l.clientX,s))}),ft(J(o),"updateBufBar",function(){if(!o.player.buffered.length)return o.setBufBarLength(0);var l=o.player.currentTime,s=0;o.player.eachBuffer(function(f,h){if(f<=l&&h>=l)return s=h/o.player.duration,!0}),o.setBufBarLength(s)}),ft(J(o),"updatePlayedBar",function(){o.dragging||o.setPlayedBarLength(o.player.currentTime/o.player.duration)}),o}return t=u,(n=[{key:"init",value:function(o){var i=this;this.player=o,g(this.el,"progress"),this.bars=this.el.appendChild(b(".progress_bars")),this.bufBar=this.bars.appendChild(b(".progress_buf")),this.playedBar=this.bars.appendChild(b(".progress_played")),this.dot=this.el.appendChild(b(".progress_dot")),this.dot.appendChild(o.opts.progressDot||b(".progress_dot_inner")),this.rect=y(this,new ht(this.bars,o)),this.thumbnail=y(this,new ci(this.el,o.opts.thumbnail)),y(this,new Zt(this.el,this.onDragStart,this.onDragging,this.onDragEnd)),y(this,o.on(p.TIME_UPDATE,this.updatePlayedBar)),y(this,o.on(p.PROGRESS,this.updateBufBar)),y(this,o.on(p.UPDATE_OPTIONS,function(){return i.thumbnail.updateOptions(o.opts.thumbnail)})),y(this,o.on(p.UPDATE_SIZE,function(){o.playing||i.resetPlayedBar()})),y(this,o.on(p.CONTROL_ITEM_UPDATE,function(){i.rect.update(),i.resetPlayedBar()})),T(this,this.el,"mousemove",Rt(function(a){return i.updateThumbnail(a)}),!0),o.opts.isTouch&&T(this,this.el,"touchstart",function(a){return a.preventDefault()})}},{key:"resetPlayedBar",value:function(){this.setPlayedBarLength(this.player.currentTime/this.player.duration)}},{key:"setPlayedBarLength",value:function(o){this.playedBar.style.transform="scaleX(".concat(U(o),")");var i=this.rect.isHeightGtWidth?this.rect.height:this.rect.width;this.dot.style.transform="translate(".concat(U(o*i,0,i),"px, -50%)")}},{key:"setBufBarLength",value:function(o){this.bufBar.style.transform="scaleX(".concat(U(o),")")}},{key:"updateThumbnail",value:function(o){this.rect.update();var i=this.rect.isHeightGtWidth,a=i?o.clientY:o.clientX;this.thumbnail.update(this.getCurrentTime(a,i),a-(i?this.rect.y:this.rect.x),i?this.rect.height:this.rect.width)}},{key:"getCurrentTime",value:function(o,i){return U((o-(i?this.rect.y:this.rect.x))/(i?this.rect.height:this.rect.width))*this.player.duration}}])&&si(t.prototype,n),u}(C);function F(e,t,n){var r=function(u){return e.emit(n,u)};return e.video.addEventListener(t,r),{dispose:function(){return e.video.removeEventListener(t,r)}}}function Ut(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e.video,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(o){e.emit(n,o)};return r.addEventListener(t,Rt(u)),{dispose:function(){return r.removeEventListener(t,u)}}}function hr(e,t){var n=e.style;t.themeColor&&n.setProperty("--theme-color",t.themeColor),t.progressBg&&n.setProperty("--progress-bg",t.progressBg),t.posterBgColor&&n.setProperty("--poster-bg-color",t.posterBgColor),t.volumeProgressBg&&n.setProperty("--volume-progress-bg",t.volumeProgressBg)}function yr(e,t){if(t&&(e.innerHTML="",t.length)){var n=document.createDocumentFragment();t.forEach(function(r){var u=document.createElement("source");Object.keys(r).forEach(function(o){u.setAttribute(o,r[o])}),n.appendChild(u)}),e.appendChild(n)}}var dr="nplayer:volume";function yi(e){e.registerContextMenuItem({id:"loop",html:k.t(Ee),show:function(t,n){n.checked=t.loop},click:function(t,n){n.checked=t.loop=!t.loop}}),e.registerContextMenuItem({id:"pip",html:k.t(we),init:function(){this.invisible=!("pictureInPictureEnabled"in document)},click:function(t){t.loaded&&(document.pictureInPictureElement!==t.video?t.video.requestPictureInPicture():document.exitPictureInPicture())}}),e.registerContextMenuItem({id:"version",html:"NPlayer v".concat("1.0.13"),disabled:!0}),e.registerSettingItem({id:"speed",html:k.t(_e),type:"select",value:1,options:[{value:.25,html:"0.25"},{value:.5,html:"0.5"},{value:1,html:k.t(ge)},{value:1.5,html:"1.5"},{value:2,html:"2"}],init:function(t,n){if(n.options){for(var r=t.playbackRate,u=0,o=n.options.length;u<o;u++)if(n.options[u].value===r)return void(n.value=r)}t.playbackRate=1},change:function(t,n){this.value=n.playbackRate=t}}),e.registerControlItem(new Lo),e.registerControlItem(new Ho),e.registerControlItem(new zo),e.registerControlItem(new Po),e.registerControlItem(new Zo),e.registerControlItem(new Jo),e.registerControlItem(new oi),e.registerControlItem(new hi)}function di(e){var t=function(r){return y(e,r)};if(t(F(e,"durationchange",p.DURATION_CHANGE)),t(F(e,"ratechange",p.RATE_CHANGE)),t(F(e,"play",p.PLAY)),t(F(e,"pause",p.PAUSE)),t(F(e,"ended",p.ENDED)),t(F(e,"waiting",p.WAITING)),t(F(e,"stalled",p.STALLED)),t(F(e,"canplay",p.CANPLAY)),t(F(e,"loadedmetadata",p.LOADED_METADATA)),t(F(e,"error",p.ERROR)),t(F(e,"seeked",p.SEEKED)),t(F(e,"enterpictureinpicture",p.ENTER_PIP)),t(F(e,"leavepictureinpicture",p.EXIT_PIP)),t(Ut(e,"timeupdate",p.TIME_UPDATE)),t(Ut(e,"volumechange",p.VOLUME_CHANGE)),t(Ut(e,"progress",p.PROGRESS)),t(Ut(e,"resize",p.UPDATE_SIZE,window,function(r){return function(u,o){u&&u.rect.changed&&u.emit(p.UPDATE_SIZE,o)}(e,r)})),window.ResizeObserver){var n=new ResizeObserver(Rt(function(){return e.emit(p.UPDATE_SIZE)}));n.observe(e.el),t({dispose:function(){return n.disconnect()}})}e.on(p.LOADED_METADATA,function(){e.video.paused?e.emit(p.PAUSE):e.emit(p.PLAY)})}function mr(e){return(mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function mi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function br(e,t){return(br=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function bi(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ue(e);if(t){var u=Ue(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return vi(this,n)}}function vi(e,t){if(t&&(mr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vr(e)}function vr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Ft="checkbox-active",gr=function(e){(function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),i&&br(o,i)})(u,e);var t,n,r=bi(u);function u(o,i){var a;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,u),a=r.call(this,o,".checkbox"),i.html&&(a.el.innerHTML=i.html),i.change&&T(vr(a),a.el,"click",function(){Xt(a.el,Ft),i.change(wt(a.el,Ft))}),i.checked&&g(a.el,Ft),a}return t=u,(n=[{key:"update",value:function(o){Xt(this.el,Ft,o)}}])&&mi(t.prototype,n),u}(C);function _r(e){return(_r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wr(e,t){return(wr=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function _i(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Fe(e);if(t){var u=Fe(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return wi(this,n)}}function wi(e,t){if(t&&(_r(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vt(e)}function Vt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Er=function(e){(function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),i&&wr(o,i)})(u,e);var t,n,r=_i(u);function u(o,i){var a,c,l,s,f;return function(h,P){if(!(h instanceof P))throw new TypeError("Cannot call a class as a function")}(this,u),a=r.call(this,o,".slider"),c=Vt(a),s=function(h){var P=a.rect.isHeightGtWidth,O=P?h.clientY-a.rect.y:h.clientX-a.rect.x;a.update(O/(P?a.rect.height:a.rect.width),O)},(l="onDrag")in c?Object.defineProperty(c,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):c[l]=s,a.opts=i,a.rect=new ht(a.el),a.trackEl=a.el.appendChild(b(".slider_track")).appendChild(b(".slider_track_inner")),i.stops&&i.stops.forEach(function(h){(f=b(".slider_stop",void 0,h.html?"<span>".concat(h.html,"</span>"):"")).style.left="".concat(100*h.value,"%"),a.el.appendChild(f)}),a.dotEl=a.el.appendChild(b(".slider_dot")),y(Vt(a),new Zt(a.el,function(h){a.rect.update(),a.onDrag(h)},a.onDrag)),T(Vt(a),a.el,"touchstart",function(h){return h.preventDefault()}),a.step=i.stops&&i.step,a.update(i.value||0,void 0,!1),a}return t=u,(n=[{key:"update",value:function(o,i){var a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(this.step){var c,l=1/0,s=0;this.opts.stops.forEach(function(h){(c=Math.abs(o-h.value))<l&&(l=c,s=h.value)}),o=s,i=null}var f=this.rect.isHeightGtWidth?this.rect.height:this.rect.width;i=i??o*f,this.trackEl.style.transform="scaleX(".concat(U(o),")"),this.dotEl.style.transform="translateX(".concat(U(i,0,f),"px)"),a&&this.opts.change&&this.opts.change(o)}}])&&gi(t.prototype,n),u}(C);function Or(e){return(Or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kr(e,t){return(kr=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Oi(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ve(e);if(t){var u=Ve(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return Pr(this,n)}}function Pr(e,t){if(t&&(Or(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tt(e)}function tt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ki=function(e){(function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),i&&kr(o,i)})(u,e);var t,n,r=Oi(u);function u(o,i){var a;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,u),ze(tt(a=r.call(this,o,".poster")),"tryToPlayed",!1),ze(tt(a),"onTimeUpdate",function(){a.player.playing&&(a.tryToPlayed=!0,a.hide(),a.player.off(p.TIME_UPDATE,a.onTimeUpdate))}),ze(tt(a),"tryHide",function(){a.tryToPlayed&&a.hide()}),a.player=i,a.poster=i.opts.poster,a.playEl=i.opts.posterPlayEl||D.play(),g(a.playEl,"poster_play"),a.el.appendChild(a.playEl),a.hide(),i.opts.posterEnable?(a.show(),a.poster&&a.applyStyle({backgroundImage:"url(".concat(a.poster,")")}),T(tt(a),a.el,"click",function(){if(a.tryToPlayed)return B(a.playEl),i.pause(),void(a.tryToPlayed=!1);a.tryToPlayed=!0,i.loaded?a.hide():(I(a.playEl),i.loading.show()),i.play()}),y(tt(a),i.on(p.CANPLAY,a.tryHide)),y(tt(a),i.on(p.LOADED_METADATA,a.tryHide)),y(tt(a),i.on(p.UPDATE_OPTIONS,function(){i.opts.poster&&i.opts.poster!==a.poster&&!i.playing&&(a.poster=i.opts.poster,a.applyStyle({backgroundImage:"url(".concat(a.poster,")")}),a.tryToPlayed=!1,a.addTimeUpdateHandler(),a.show())})),a.addTimeUpdateHandler(),a):Pr(a)}return t=u,(n=[{key:"addTimeUpdateHandler",value:function(){this.player.off(p.TIME_UPDATE,this.onTimeUpdate),this.player.on(p.TIME_UPDATE,this.onTimeUpdate)}},{key:"isActive",get:function(){return this.el.style.display!=="none"}},{key:"show",value:function(){B(this.el),B(this.playEl)}},{key:"hide",value:function(){I(this.el)}}])&&Ei(t.prototype,n),u}(C);function Pi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xi=function(){function e(r){var u=this;(function(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")})(this,e),Z(this,"startX",0),Z(this,"duration",0),Z(this,"durationStr",""),Z(this,"currentTime",0),Z(this,"seekTime",-1),Z(this,"videoTouched",!1),Z(this,"dragged",!1),Z(this,"onTouchStart",function(o){o.touches.length===1&&(o.preventDefault(),u.videoTouched?(clearTimeout(u.showControlTimer),u.videoTouched=!1,u.player.toggle()):(u.videoTouched=!0,u.showControlTimer=setTimeout(function(){u.videoTouched=!1;var i=u.player.control;i.isActive?i.hide():i.showTransient()},200)))}),Z(this,"onTouchMove",Rt(function(o){if(o.touches.length===1)if(o.preventDefault(),u.dragged){var i=o.touches[0].clientX-u.startX;if(Math.abs(i)<15)return;u.seekTime=0|U(u.currentTime+i/5,0,u.duration),u.toastItem=u.player.toast.show("".concat(Ot(u.seekTime),"  ").concat(u.durationStr),"center",0)}else u.duration=u.player.duration,!u.player.opts.live&&u.duration&&(u.durationStr=Ot(u.duration),u.currentTime=u.player.currentTime,u.startX=o.touches[0].clientX,u.seekTime=-1,u.dragged=!0)})),Z(this,"onTouchEnd",function(){u.dragged&&(u.dragged=!1,u.toastItem&&setTimeout(function(){return u.player.toast.close(u.toastItem)},200),u.seekTime>=0&&Math.abs(u.seekTime-u.player.currentTime)>3&&(u.player.currentTime=u.seekTime))}),this.player=r,r.opts.isTouch&&this.enable()}var t,n;return t=e,(n=[{key:"enable",value:function(){this.player.video.addEventListener("touchstart",this.onTouchStart),this.player.video.addEventListener("touchmove",this.onTouchMove),this.player.video.addEventListener("touchend",this.onTouchEnd),this.player.video.addEventListener("touchcancel",this.onTouchEnd)}},{key:"disable",value:function(){this.player.video.removeEventListener("touchstart",this.onTouchStart),this.player.video.removeEventListener("touchmove",this.onTouchMove),this.player.video.removeEventListener("touchend",this.onTouchEnd),this.player.video.removeEventListener("touchcancel",this.onTouchEnd)}},{key:"dispose",value:function(){this.toastItem&&this.player.toast.close(this.toastItem),this.disable()}}])&&Pi(t.prototype,n),e}();function xr(e){return(xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tr(Object(n),!0).forEach(function(r){H(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tr(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jr(e,t){return(jr=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Si(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ye(e);if(t){var u=Ye(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return ji(this,n)}}function ji(e,t){if(t&&(xr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=function(e){(function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),i&&jr(o,i)})(u,e);var t,n,r=Si(u);function u(o){var i,a;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,u),H(_(i=r.call(this)),"mounted",!1),H(_(i),"prevVolume",1),H(_(i),"settingNamedMap",Object.create(null)),H(_(i),"contextmenuNamedMap",Object.create(null)),H(_(i),"controlNamedMap",Object.create(null)),H(_(i),"plugins",new Set),H(_(i),"toggle",function(){i.paused?i.play():i.pause()}),i.opts=function(c){var l=m(m({},{shortcut:!0,seekStep:10,volumeStep:.1,volumeBarLength:100,settings:["speed"],contextMenus:["loop","pip","version"],contextMenuToggle:!0,openEdgeInIE:!0,posterEnable:!0,videoProps:{preload:"auto",playsinline:"true"}}),{},{isTouch:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},c);l.controls=l.controls||[["play",l.isTouch?"":"volume","time","spacer","airplay","settings","web-fullscreen","fullscreen"],[l.live?"":"progress"]],l.bpControls=l.bpControls||{650:[["play",l.live?"":"progress","time","web-fullscreen","fullscreen"],[],["spacer","airplay","settings"]]},l.controls=l.controls.filter(Boolean).map(function(f){return f.filter(Boolean)});var s={};return Object.keys(l.bpControls).filter(function(f){return f&&!isNaN(Number(f))&&Array.isArray(l.bpControls[f])}).forEach(function(f){s[f]=l.bpControls[f].filter(Boolean).map(function(h){return h.filter(Boolean)})}),l.bpControls=s,l}(o),(a=_(i)).opts.openEdgeInIE&&ut&&(window.location.assign("microsoft-edge:".concat(document.URL)),a.emit(p.OPEN_EDGE)),k.setCurrentLang(i.opts.i18n),i.container=Gt(i.opts.container),i.el=b(".nplayer",{tabindex:"0"},void 0,""),i.opts.video?(i.video=i.opts.video,g(i.video,"video")):i.video=b("video.video"),i.opts.src&&(i.opts.videoProps.src=i.opts.src),hr(i.el,i.opts),function(c,l){l&&Object.keys(l).forEach(function(s){c.setAttribute(s,l[s])})}(i.video,i.opts.videoProps),yr(i.video,i.opts.videoSources),function(c){try{var l=parseFloat(localStorage.getItem(dr));isNaN(l)||(c.volume=l)}catch{}}(i.video),di(_(i)),i.el.appendChild(i.video),yi(_(i)),i.rect=y(_(i),new ht(i.el,_(i))),i.fullscreen=y(_(i),new Rn(_(i))),i.webFullscreen=y(_(i),new Ln(_(i))),i.shortcut=y(_(i),new Zn(_(i),i.opts.shortcut)),i.touch=y(_(i),new xi(_(i))),i.toast=y(_(i),new Sn(i.el)),i.loading=y(_(i),new mn(i.el,_(i))),i.poster=y(_(i),new ki(i.el,_(i))),i.opts.plugins&&i.opts.plugins.forEach(function(c){return i.use(c)}),i.contextmenu=y(_(i),new _n(i.el,_(i),i.opts.contextMenus.map(function(c){return lt(c)?i.contextmenuNamedMap[c]:c}).filter(Boolean))),i.__settingItems=i.opts.settings.map(function(c){return lt(c)?i.settingNamedMap[c]:c}).filter(Boolean),i.control=y(_(i),new hn(i.el,_(i))),y(_(i),i.on(p.CANPLAY,function(){var c=i.opts.autoSeekTime||.3;i.currentTime<c&&(i.currentTime=c,i.currentTime<c&&(i.video.load(),i.video.pause())),i.opts.autoSeekTime=0})),i.opts.isTouch||i.enableClickPause(),i.emit(p.AFTER_INIT),i}return t=u,(n=[{key:"currentTime",get:function(){return this.video.currentTime},set:function(o){this.duration&&o-this.video.currentTime&&(this.video.currentTime=U(o,0,this.duration))}},{key:"loaded",get:function(){return this.video.readyState>=3}},{key:"duration",get:function(){return this.video.duration||0}},{key:"buffered",get:function(){return this.video.buffered}},{key:"volume",get:function(){return this.video.volume},set:function(o){this.video.volume=U(o),this.muted&&o>0&&(this.muted=!1),function(i){try{localStorage.setItem(dr,String(i))}catch{}}(this.video.volume)}},{key:"muted",get:function(){return this.video.muted||this.volume===0},set:function(o){this.video.muted=o}},{key:"playbackRate",get:function(){return this.video.playbackRate},set:function(o){this.video.playbackRate=o}},{key:"ended",get:function(){return this.video.ended}},{key:"paused",get:function(){return this.video.paused}},{key:"playing",get:function(){return!this.paused&&!this.ended}},{key:"loop",get:function(){return this.video.loop},set:function(o){this.video.loop=o}},{key:"enableClickPause",value:function(){this.video.addEventListener("click",this.toggle)}},{key:"disableClickPause",value:function(){this.video.removeEventListener("click",this.toggle)}},{key:"use",value:function(o){return!o||this.plugins.has(o)||(o.dispose&&y(this,o),o.apply(this)),this}},{key:"mount",value:function(o){this.mounted?(o=Gt(o))&&o!==this.container&&(this.container&&this.container.removeChild(this.el),this.container=o,this.container.appendChild(this.el),this.emit(p.UPDATE_SIZE)):(o&&(this.container=Gt(o)||this.container),this.container&&(this.container.appendChild(this.el),this.emit(p.MOUNTED),this.mounted=!0))}},{key:"incVolume",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.opts.volumeStep;this.volume+=o}},{key:"decVolume",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.opts.volumeStep;this.volume-=o}},{key:"forward",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.opts.seekStep;this.currentTime+=o}},{key:"rewind",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.opts.seekStep;this.currentTime-=o}},{key:"play",value:function(){return this.video.play()}},{key:"pause",value:function(){this.video.pause()}},{key:"seek",value:function(o){this.video.currentTime=U(o,0,this.duration)}},{key:"toggleVolume",value:function(){this.muted?(this.volume=this.prevVolume||1,this.muted=!1):(this.prevVolume=this.volume,this.volume=0)}},{key:"eachBuffer",value:function(o){for(var i=this.buffered.length-1;i>=0&&!o(this.buffered.start(i),this.buffered.end(i));i--);}},{key:"registerSettingItem",value:function(o,i){this.settingNamedMap[i||o.id]=o}},{key:"registerContextMenuItem",value:function(o,i){this.contextmenuNamedMap[i||o.id]=o}},{key:"registerControlItem",value:function(o,i){this.controlNamedMap[i||o.id]=o}},{key:"getSettingItem",value:function(o){return this.settingNamedMap[o]}},{key:"getContextMenuItem",value:function(o){return this.contextmenuNamedMap[o]}},{key:"getControlItem",value:function(o){return this.controlNamedMap[o]}},{key:"updateOptions",value:function(o){o.videoProps!==this.opts.videoProps&&Yr(this.video,this.opts.videoProps,o.videoProps),o.src&&o.src!==this.opts.src&&(this.video.src=o.src),o.videoSources!==this.opts.videoSources&&yr(this.video,o.videoSources),this.opts=Sr(Sr({},this.opts),o),hr(this.el,this.opts),this.opts.shortcut?this.shortcut.enable():this.shortcut.disable(),this.emit(p.UPDATE_OPTIONS,this.opts)}},{key:"updateControlItems",value:function(o,i){this.control.updateItems(o,i)}},{key:"dispose",value:function(){if(this.el){this.emit(p.BEFORE_DISPOSE),dt(this);var o=this.opts.plugins;o&&o.forEach(function(i){return i.dispose&&i.dispose()}),this.removeAllListeners(),jt(this.el),this.el=null,this.container=null}}}])&&Ti(t.prototype,n),u}(Ur);H(V,"__utils",Wr),H(V,"EVENT",p),H(V,"I18n",k),H(V,"Icon",D),H(V,"components",v),H(V,"Player",V),V.prototype.Player=V,V.prototype.EVENT=p}(),it}()})})(Ai);const Ii=Ci(Yt),Bi=Li({__proto__:null,default:Ii},[Yt]);export{Bi as i};
